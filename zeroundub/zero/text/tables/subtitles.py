# ruff: noqa: E501 # pylint: disable=line-too-long
import os
import hashlib

from typing import BinaryIO


subtitles_en_encoded = {
    0: "9c2c60c274d05a2d6bea5b5017",
    1: "6e56c3e4f9f869edc4cabfd14ec522c20a9640b4bcb5d4aabd456fcf5168673564a73a78300573ae1a69fc0021a41d655c3f",
    2: "63251060755875725472f41c2114ed683ee972efe1756eea7360ff6412ff6dd2b06250ff2630b172c2fe2f",
    3: "34de2115c366b3c873c2e66988df2f209e",
    4: "6981967697a521eeb62105ab64319d21728465846aba6f802f",
    5: "7c677d75d37129773566a66cdb6f8d23246aec24b424516af269840f42763f689273902657684866f46898731a7c1061db28bf618e614a672127",
    6: "ce6fc86c99295f7f152af965b5626779036f336ef427",
    7: "8b6e387b067f8161912c71633b74786b754f7640660d",
    8: "7e740d53734f550a4a6c3d57404d8b58740a524d475b474d710e0807",
    9: "6455b6988d635d4140690e544f5b0958e1da8c71436d4f773b43790d6c5f724974484f0d",
    10: "5568715e4c49de7e7a417e4140464b0e1541064f4841f9795a094b42504649768d5e",
    11: "7a424a09413b4548403f71500947e4958b614f5d2459436c0a557a6f660949464d4b7d684c4d055747d2",
    12: "435a5342566ff39b8d71463f5b7772407a276d556c497a54494b7673780d464ede4b3b4870434806",
    13: "794a7a730641483f5af978463f5e43095d4d9f52034d7a0a7c435a09413b444c4f7b16464705c29b94754f76427a3c5f3f5a77556d497a4445566b6e33",
    14: "6409469b466f0a6a4246495e5a303100",
    15: "4e76774c12fe69095e448d06444a76447c0c4848523b51684d4a070830",
    16: "3e29484943e29f9276476d0c2d17013b1c1e2310",
    17: "72424a6c3d7146549b48744574020706246b6b075509645eb8297a47424848449043045631",
    18: "4f42426b3d6848533b655b003f48484244fb93916c0401002471700a4b7a3d7b4044084a417279094140514dd0",
    19: "6a5a4b5607",
    20: "56e2dd8c34407a4971031f3b5a427e4d550a5076737c4c006311467e5f8a09404b436d44064f5b43fbda926d027d5f7258734f7b04",
    21: "6168513f764a0a4a4c4f510d47034b708a48095377445722724c440c72483f6f433d5640405d3f5dfa9b9c710c",
    22: "560c797e406b0d7e433f5873495f44773331035a4f477e5e774590442259436c3e4f7a5d7345f8992c444c0545435140310435",
    23: "614f4f556269083533",
    24: "6851094c6d735d4140e4da8875513f447a514835040d",
    25: "48757e5d0043680a6b44975c086e734d4d4731300112",
    26: "6646445d0d",
    27: "5a764a026c73417e5b4d7a0cfc8f8c67311e3113",
    28: "52065d4c71797a5f09494c3b5d7a0b77403f45419044264846575d48474c78074b495e4c02b822",
    29: "07070b645204563f9d45774800070e",
    30: "4c40485a3f7d095e57f799943a0c31",
    31: "68767f0c6c5e724b5e4b7673780d41415a6b4f710c8a4622435b3f435e465b407be42b",
    32: "686a405209454c4d460576900a6f444b095073436b7106",
    33: "7e467e68095e44e5da8b3956774d6b24",
    34: "647a4831",
    35: "664f4f6f3d7248070e04",
    36: "48427059924d0867026b40474c0f493ee67c4d6b5c19",
    37: "605d02550351779f5e3b5c4b5b5374423f5708435b6c68095a44e1d4d13a",
    38: "7677493f51426b546c00",
    39: "67427968665c01",
    40: "7d7a436b02d035",
    41: "66425f503f724bb7",
    42: "5d4f4d48444c43430d0b31",
    43: "b5445b4e7a070631",
    44: "654945423f41414e000d063b564a404013fe93923a0c31",
    45: "78325748774409467671095e4d485c11",
    46: "75778712",
    47: "6768035875725e3fe2654c0d66464c570252436953705fc1",
    48: "6b6f176c3c756a5b5a094d0859464bf59fdf664c0f475a0c3106",
    49: "6017734a03404fe0483e66745b02984d4c423f4e510743414a4831b8d4",
    50: "be34467a4170750d",
    51: "5e0d7155680c7f43474c713c",
    52: "4e584043950b3b6c76424d08464b720c",
    53: "6e70494bb675507046484d070bd0",
    54: "724b403f58745c4b16",
    55: "6e740d",
    56: "4b76495d0e72755b5b4ae4db",
    57: "b860564c0f416a3b4a7e524308",
    58: "673f404940463e6b912d69455c564ef94e40095a777923614cfb8f8d7b02794d72724066006808404c4d507a58225b476b587a443e9c4d7c50586849000d33",
    59: "72774450084f4f77714a4b714f09437e6f42094ce5da8b674d24424f50005a4d3f55447e107b42415b06310d",
    60: "79739b0a4273697e5b0768084e416b3c5d4605414d119c4f4e72434a0369747252b69e906652070106",
    61: "537445311f03",
    62: "50494e0b",
    63: "7d4b511e297f45426a3f964f526f4d474b7b23",
    64: "704840b8d4d1",
    65: "5c4d680c7c745973493f4477456806484620",
    66: "50704016",
    67: "77964b6f0d6c0c5d404f5620",
    68: "6c55094a517be5270008",
    69: "645005488743500b3135",
    70: "7d4b7e693f5e4168085d467e6816",
    71: "6051b189df7a450f4a6c694b011d01",
    72: "c2590f5a0e52424e524a5502",
    73: "7277f3de69744f5d1346e5b6f0674750654951095e434c41e24278d00c31",
    74: "656b0a5a077e5f4d6b447ae4da8f7d477c493f4c4b3b6a4b7e0c5e585e51415c3e",
    75: "63405a974c07",
    76: "575e3c593f48425a460d30310e6b6b0d5f3f5d4113784840fdd4d127",
    77: "7e474b5d473f5a4b7069705a0e351f",
    78: "7d4f7e51ac5f9b3e46634d5057445e13544b433fe59b926c204e5d2d6f484a1340e5485b0943704e08535c4f480831b8",
    79: "ad9771507a0c6b7349660d6b51744975065d4a6b75155941498d0a784b72495b4911",
    80: "6f7e4f53676b31030b",
    81: "db9b997c595c0e",
    82: "6c71750f5d066771563b5e564a47494c768d7909444012",
    83: "6670514eb6929a7b4f010000",
    84: "6976584a7a3c",
    85: "4b414968085e47673f",
    86: "747e0c5d9b464c07474f034e6ae48886270e07",
    87: "7f447b7a59463133310950774d48557b3e4e7a4756de4a5c0e516b715c351f31",
    88: "7f5d4f5e0272780c",
    89: "484541b69b8d710266436a1c",
    90: "643b4c4648395e03687c715d005e740a7b459b07",
    91: "",
    92: "610e557e706b0d51f9da8c6c4f0f46474f3f47474b3f5c43514b0e6b41715635330c",
    93: "7052718e02",
    94: "664812",
    95: "6d42406aef8fd13a0c3e",
    96: "61326e44705f0d3133",
    97: "484c0e04350a68455d4f0e4392464d5a5d034a44095c4c49465c48495b06",
    98: "675d075d026b967806457c56e2da8f7d477c493f4c4b3b5c41433e734a695e5c5109",
    99: "6042786a875b033f734b4d42420c4a41744c707b5f6810",
    100: "5b43f8dd8b3444705e78546f0d62475c543e7b5d446607",
    101: "64533f9a565c5403776c0e56703b4d794a579c8e9760590f49786f7a2d4c4474567e4a35a503",
    102: "527a7a5847085d46768d034f464745035270b6979a270e07",
    103: "5b407b3b6c466858135e4a0357416a084b5d8c6f5b3b4d734d3b43504b446c7a0f",
    104: "736a6b085a41466b09477c91695d095c42e3d4d127",
    105: "630f437e5058036cff426e036f4456036b465f414e4f6befd6f5665c064c455648064a513f594b73403fe34c6b6e46750c5299484140070407",
    106: "64414c385d0669716d5f5cb69b9d665b52094440012c5a4a6a0e4f6a5f6b034a743f",
    107: "6e7a4a46875604004f46454b094f4003",
    108: "527742530a",
    109: "dfda9261516b0c6c574c62060708",
    110: "4976426f0c52e7540c5a415b3f5b9f5a41734524",
    111: "653d5d734f4d4305dc11417e423f4647738e2841434123",
    112: "6e45475c000f54706b0e4e733ff98f8b295d465a464d6a6609477a3d",
    113: "6f45485d313e02",
    114: "7777480efc45915d49035a4a45440d6841555a4503517ee5f098614b7b4571440d764f0f3f543f4a4f5f774e3f444c498c244a7a530c5a4c5a7bf76447484e070b03",
    115: "7540577a7a93434d783d7946523b404c426f32",
    116: "685a05e2929a3470705c7a037e735a40487b3c64484c474d4e00095b469b23574f513f494b5a5c76724a48036f49075a4a4972b68e977102784d6b4603",
    117: "424d5d066d744c09444f5b4f0c5e49408a4c440e5670014e7e3a68445a41086b59460e4d40473f8d494c0f4d7068457f33",
    118: "5de38edf674a7a0c7c4c58774c47016a3c414853460842435d4002f4484e4a02684c5d094a7a4e474f0f53705a40b69b8f75506b267d5a0d6f40465d7a095c594d3f47494c43417099420f",
    119: "594a724f413d574c5b5b455e4c440347f8da8b979a4d4ee161ef60f479d223",
    120: "b9ac2c732e8248803b859c2e3a3951d690f9290f947f55052c6efbe59aac3a19193332027852ec91e8570b1d1547363dee9e92362ec02ed17c606e5d7a056ae57b816e4e300471c464ab7416650831fe708374137d107ad660973241660175c061df3340677667e371917c60716c",
    121: "5b1662f3737d733d36e370e16285733f5a157bc0748a3b345177493fe25e114c457453520a57703d795c4c4c7246730c964c5a0e466a55454c5c087fe5035a4e4c0977425646054c738c4171540d50474a4e4f4d06",
    122: "69f388df7f465c493b43565d5c0943ea979e7d4c3f447af94837274c7e4356434d783d6b4149593b4d7e589b095b4b4373444809404e789c6a465b054c4a4f057a6f9b427145475008",
    123: "5f4473114c77434046330831",
    124: "d3949b654f5c5d0e527e41711f0335",
    125: "6d5d037149714408464000504e7ab6938c34446d497aab427d0d577a4f48040d31",
    126: "5c6c094c45754d3f4d8d095b46473f485f0941476ab6654b405d094d425646497a688d06311f",
    127: "643d514a59420d060fb68e9034407a0c7d5a0d7348553b554f4e4631",
    128: "3331076d45486831",
    129: "b34b7d5f665908",
    130: "64414d7400",
    131: "78414a416cb6674d6a406cab4c8c480946735d0c44414a4646034cf79994035e400e594a7a5b433e6a417856077d4d424c46401d0e0d",
    132: "6b76fd8fd13a0c",
    133: "560c714c5a3b5a4c477275534c055e485503543f894b68207d5e465d494a6b01444c5d4d30b827",
    134: "6fe549de780c5447427308424b7e476b583d5d734f500841f3898b6044560e41443f7140474030",
    135: "524476590f",
    136: "484b494f450266917d0d09010c4f4f69074650565151535b494d4131",
    137: "d38c9a7b005a46467d7e3c5d41445d004d47670003543f8d5e745a6f4947225d477a4547560954744047425eb68e97685e0f415a4a7a5a3f4148745c42461742704d0f531353464331",
    138: "db9b99615b6a0d3fdf454c474c3f494d4c4c4f4c5b5d03",
    139: "5b914e015d094af97b49435d095c425351057b6e685008",
    140: "6887077f6b6b500040553e584c3d744f7e5a1558fe938c34457e587a034e7742547e4208040d",
    141: "53787e5f45de5e73436c0c44495a473f69433f5d463331b8",
    142: "7d4647035a408d7d3d744e0c667468024b5be4e4efda9e7a463f496c404c6b4d08",
    143: "646b593d5b41475209494c4d6a8a3c62436a0f0207",
    144: "660873e3898b29535d40583e6f427e0c6d475f7d42455c570629706f3f9b45534f3b436b0c5e41424e3f45436f5645f82c484e444490080d0b",
    145: "5b74460e523e5f70435f620c4f4172536bb6979a382866436a0340585a533f494d02",
    146: "654057595a5b023f4b46459b0e4d710b",
    147: "57457047000c31",
    148: "56477b77503b5e416e425c3f9f437e0d5040770a4d70774d4fb6989e7749155870035a734d5b433e68414c5c3b4c4b4e70907b35330b",
    149: "62495c4b7a300235",
    150: "427749b68d9e67027e4068425468085a526c694e4e495842440e48705ade4f417b4735",
    151: "64785b3b554c5d4909455b516b0d507a4b419741086a77495a7a370e494b476f46424f9c8e976c0a484f5a473f5b4c4f73794d094a7d4e3e4e70430d9f77400e4669436d4d41534a0e",
    152: "704e7ab6929e70026b433f504c785f4e7d4f454f037a6b7a5b598a42724478020706",
    153: "7a4a7a6e473f5e41e3655d0644485c0d8c4350513f72463f41487c4546060a415d55b6929a7b005a405d72275e4e7345067f40684c66680c6e5798784c6f010931",
    154: "4e415f7e514c5a0f000c3f50474d3ef38c9a7b0e0701",
    155: "6d684b503f534048464309584b4c5aab494d660d687e0c6e56916e59784b076c4d4b444d4f2757767640456c0d6f487ee2da90604a7a5e3f5348745845433e784647025d085d477ad0",
    156: "7343595d49fb6b4bf90d1756770c0917121c1d1c",
    157: "77454bab409f426c4470750c6a436d09734050774d5c48b68e9034407a266c7e497108705f0d6f444b0370476f01035b4203697ade484b71494542663c4148419c8e90294b5c450e56776d034b404f484c68074b4944de5e4303794440ef0d4e6f06",
    158: "7b73435a08535c4c47066ae5da8b7c436b0c574a406e5a462c734c735f4049483b464f463f9c4b4c44094543526b54247d4c5e3d684869f3889e78027b497c42497e5b0948715a33",
    159: "784143065a4943473f9175435d3b5bfe95df634d73483f5b513f564b49544f094a5c24687fe6de4f4e6c433ffc4c69724c4d055b513b40426b3f53420e4a91717a06414d534b05245577494a4e0551485f035c5bff8e9a2944405c4b7140417a525d4f4b4107",
    160: "7f465d5aee404e7a5f3f2258750ede2c18271b17",
    161: "565c0e5e464d40467a3f4a43717a7e6e4c5d6c0ee295df7e4b43450e5677524653424e09584b4824e6428b426b4c76750c7c563e4774484f6b040e5e4c0850560047437cff9e9a70026b433ff85d7e464d2c6a45780c474f414b5c00444c5a4bde484e4a027c42405d4171524c0840526d0859f9764206",
    162: "c209884b02414d4040026f46437458494a3f5f7a6a7a5248403fe4959079513f4d7351487a4c500814787340404d43035c96450c4c505a4c52474d6d010e5d407a3c4642577e544e465d2277e5da8c604b73403f4a433b595c4f6a483d4b464942035b96415c4c06",
    163: "6f094c47566b4d493b557e5f42404d6d116a0e5696415778495d0f683f6d416c177eb68d977d567a0c6c4b4c7f475e5f3e4b744b5c54430f47783f4dde594d725047237771086b407806414c434068f783df674f4e5c0e567777094f7167504d4d4b7a3e",
    164: "650473410ee0489b410c575c424b4a0d4c4e074055404e3fe593987c566c497a4a437c5e174d474206535d4c4e765a4e3e8a73494a0945e50d433b447fe29f8d34437c4f7056436f06",
    165: "7a436e5978414b43543b16195c49d20e132f1a2916",
    166: "717a0879725b7d496948e49f9baa7647437a0c4a4b6c605a5c4b454d7c2c6c5b915970553f74400349019e7cf367fe33724a3b4e5feb8ae5f2f301",
    167: "6b716a409edd60fe71f96303447aaa89e8e5a04547424973626d415cfedd8c1e41774573475f7e460506734873584049484d7b12474009b5414876005a0c40406f494011",
    168: "4f74433f5efe958b7b02765f3ffa58445d423f414e4708404046115d4e465e560d8d494e403f7044795f09564a7a5e4046460e567e4735",
    169: "6f483f5c9649097e4a5ff8f3e4da9099246c7f7d05685d773077fbbd36362f97019b21d1dd793d2b18cc8bac230a907c10473a28afecf5f5180d1b3d71003d2ae116dfe519581450103c31f95fdf940576c075a435",
    170: "af7e713c43753e7b146e8675ae3c517239730c78c83da175646d62690e67907fd17a2877246d477ae77a833f704f274b5b41ed00b046335226444d52854cb74a7a4c5d02084df347fa51614f5a4d0703cc40bd566645494d074ab8",
    171: "77a254774044473e57a11498518d0919145a1c8a10",
    172: "4242114b0248d842bc0774442a08ed5ed55acc5c7f4c6e441947bf4068445748d65eda5d5b0bf55fd547670c2943ec40b54203596d4b1d43fc0d8242734763",
    173: "791d47c84bfb5a685a5b0f0847b25b28440859db10a0517b42025ed7119e420a5a2c55ed1ebf7bd55f12501141c552625a7f43fc14b65b8b5857120d50ea539d405a525e5ea45bd9543d171558cf19e374624d575caa50a6188459535c4d58e84ba758904009564f5c5f05",
    174: "645f0a490e584a5f5e1a425b4b535d5d14495a57534e5f53565d195b58554e4e361850554c5f1f482f4a2449601663492d54265f664d221a3c5526516a49245729303d52214e20497c1a285f214e3648305b2c14",
    175: "055f274e3d573b5f281a6a082852711a6e03650a50",
    176: "73415c0d4f0d5e447176434635",
    177: "64766806487a7a6a5b3d6c4d5f13495d525a0273974c7e12574f4a2d4741423c76423b524e4c1172715547589b474c035b4a427346f19aa2",
    178: "44405a05734b4f463f7c474c0e7341434a5a11f8e8889aac7f4c5f40694b4a0c",
    179: "563d4a4940385c0e4a4c5de6e88c9aac7b4148513c5d0e4a7e6d594d4076464909",
    180: "7a58e1ee9fdf63473f417a570d5941466b0e454a5a4d370e6e14567a155df3f3f8da926840f20d5a526cf472484b29584b50414a676e35",
    181: "69414203524e9b0f4a774c5de289df7d4c3f5877ee0d4048496c474d4d2249465f42027e4e42095a4fe49f9e79027e583f4e480c",
    182: "60077b414c045c016f4f40464a0e56779b543a77420e7a5a7a6c3b454c6a0d70493b4558e2da9072026b4476500d767d4741404f4e02",
    183: "6f0747474e0b5d084b884b4c3f774246523f4042593b4f43737c2756b6999e670e4e4645410d494d056b740872480c5a474840545902",
    184: "6749ef8968480508573841034c687a56465d48066b4847500e567e5c7aa1",
    185: "b399344769496d035e74714c5d4745004f4f545b4d706c0c5c70115a4a975d0e3f414f4d7f5a54bada8b714e730c72460d5a41466b244a425b01454353584646447f0e8a48134d7a3e",
    186: "7de293936d0b3f5703754c587a114a5a056806435d5256034c0e4d5e56f793270033",
    187: "484357594b4f7d485b0f17a48e9738022e1925b91d",
    188: "64094c714155035c494451035b5c5a467a6c0c9d5c4365673f4f50e2f08b7c476d4938f80d5e464a7a5a4a4a46460d4a465a56254a7b6c454c7a680e578d0e4b713e6b75405f3b43425e6c464346b8",
    189: "b3d862473f5f7aee433b416b114150554345460e036f53095f9f5d287e3d5570404f470077423b503f5b45ff8e9a3449764170e54203",
    190: "7a48724b564b414f7c0e47513f787e7b4c9040544b4e660d4a7e5650f394967a453f447af94835",
    191: "6448504309574503534948464254777199425b3f7c5148467a40f39edf674d72496be344757b16",
    192: "7d5b005046544f48585d026845015f4c0cf49f9a670e4a5c5b4049064b406d7e086b5e0c4d4f4316",
    193: "695303554ff3de7d594c087171490343425b6f76484e085545475ade435a6f4d5a5a476d13",
    194: "ce9693344d790c6be3425e4c077a4f504f41445d087a7a4d5c77681128b54148760c067d4641464502027e414e0c4c4e3fe2fef397c0",
    195: "554f3f653fff457e3c47575154005749074d414b1d",
    196: "4b4949097d476ef3daac7b5b4e714b026e49484748423f724f6b684f4f042b4f513f524c4d460e91460c4049075f45417e434608",
    197: "614e5646b69b8d6c6f333b434b445303064c404d086b424c064d4841743024608a3b4e500c5f4845ea06544d7a4e03494f4102f060584f09454c69480d7d489b4324417a5a4a7a4e05116b4448b6998a66517a0c76f80d787344424545544608",
    198: "7546584b5a0a48529b0e407a4a4b714849f89ddf6746077e5e52464953034242154d5f3f6d464c5c4e0803680543de515d404c76707c0c4ae38edf7b443f5876e64835",
    199: "48415709464f51444e7f4a4b4c3f8c44576b7e4553244d790a6f454468017ee49f9e3a0c31",
    200: "656b034142464c6c0e4e4a434403655c0c3f4a7a4744fbfff89fdf63436c267b4c44434e076d4b5146495340400e4b71594d3b6a415493070e00",
    201: "6b3f6a4d71494b5b00774a3b59765f0df1889061523f456c295e59404b730e4a465a4402310e",
    202: "6f3f7e4f535c548c434701430e4840716c5806313524754756773e6b454ce5da9c684d4c5d49303509",
    203: "4b764a6e034b7e704c5a4f3b4b496c0c8a734209584e59476d235a4d3f495557745543035a774e43f189df7d494c24404d6d4f7e403c7e5f423f7d4273045c3fe59f9a3a",
    204: "6b3f5e7a4e48404b426d0e564b4d0140464d4b7b44425d0f4e6cf9fb9c8d977a4a4f3f67024f4d405143497b0049793d47570f5206534e554b8c115a41027c7d595a5b5b420947464d6c565a08",
    205: "3f",
    206: "71478e4b513e0074465949e5dbdf5245507e575129454e51480c6d4f567a6e0f",
    207: "6e5a0f067740494f9349424c09000c3f4943725f4633310d0824757754694306f7889a345b70593f414259410778414c4617",
    208: "754b4d5f46396c0e517070435d457640f1da976c5c4307070b",
    209: "794e42513f594d724d71a503030973774f56035f4e934246274a703f4f02747741745f700c40530e4170704b714a00b8d4",
    210: "a87c476d493fe34c5b4c076b46475a08464c46481c",
    211: "567059027c7d4712dfda9d614c46740e564b4d2b40585e6c4506707b0e57404406514e524bc1",
    212: "6b4d415330310002574843580b3106",
    213: "744b493f78496b783fc5928d7d4c7a0c524244494c4931000c297c494802405d41504d030d30",
    214: "4c964b02766f0c6f5c463f40f7898b346f7e457bee43353207386249524a43093231",
    215: "67117b764c9009563f467a48523b5c710e417070473f454be49fd1346f662676e55e6f7547515d530057494b550272493f9041563f76490d",
    216: "7c764a5b017a7a540b1f3527c292966702684d660d0303",
    217: "624e6d47470d060f",
    218: "794d4e4756070600",
    219: "600a4a419009563f7b4b71490e5d487b0c7054660203b8f0a87c476d493f4a5e0d405320",
    220: "7a4a425c0144415f4f3e765d026b6e505b904e085a4d3f5e43662c53f9979a604a7642780d030309747043475740484345034147295f915c5677030c35",
    221: "5540434045000c310a684f547249b8d4d1",
    222: "5950310c4b42464c444e714b0c0d06017a49584c0a4445d0000c",
    223: "563c687254feda9660056c0c7ee7413b7d09565b45414e080907",
    224: "6b41444f09469740463f717a3a",
    225: "73fe938c34557e55310d03",
    226: "64094f7e5847035c4e0d454c08514c5141474e09549647513f78707455b8d4d11e7677493fe644696e4640094d55505207794b0e56777a6c4431d007",
    227: "6d47497069490f0059f98fd866473f58704c0d68414d54061d04",
    228: "6e7676705d4f020733",
    229: "759248510e5576684e09447ba00300",
    230: "4f4b416c3e5747500702b8f0ab7c4b6c0c68ea54353207",
    231: "7b0948415543075d470e457688440c5d47416db697966650705e15ff420d5d4f7e5d06734671300d33",
    232: "6c403303714c463031d00f024842553f4a47573c505de3da9775547a266b4c0d59484c7a0e5b4c5d5303475a4d3e7347447a21",
    233: "657d1170429686345b70593f4b4c4947006b0e444c5d4f49285740525d089d4f4f7a5f4331080eb6a39e6c0e0701",
    234: "6b7143560a7def232800574907fb6c000c0d",
    235: "7c4d9b296f74584a0d7e4f5a5051000c0913497342155f6fe49b9166464a717a3f5b495a577e6407081d",
    236: "5d4f494d5a49d00d060d706a705e02727902070b",
    237: "534d693b4a7a0c74e2630c07d011654a523ee6553f70456b264144095b494b5db6fbf7e189967b4c313335",
    238: "6e3f447a6a7a016f470e5d444a4511594a430cd009137946463d764f585b5e6d02b8b89cae97720272417b58405c000c31",
    239: "744b553f46426c693f6f5b4d45774f026c589f5a577a074a5f020702167e553b5c464c3f744b477559410c7c49557ad0080d",
    240: "624d43f3b6f093916d00727a070d670b5f4d014f4f464203594e7252434756155f913d45484d4f0f0e020954410273484d4b020702",
    241: "df29407e697bde5a460f4a76554b0e5d457a3b4b47506d4e69246bf8da8b664845294f7a5e31",
    242: "564f4d415670040d313d5758e588863a0c31",
    243: "7b77465f7e0a4776793f44590e467e7d4e4e4768510c4b4602d00117",
    244: "4a77490e60737a4c4741404e01564f6cfdda967a0eff454b287445500f5841025e4b7a3d7bf9917d063109",
    245: "7d447a0a61737471f17246790e6f7e5448020207",
    246: "784b448d3d454644423f476cb6e2f7939160477b0c714c5a350635",
    247: "787646470e6f427a094b4f4e7e5c76525fb699906c4d680314544c0e7a587a1142424e3b78434e7b07",
    248: "4c793f4be38d78095a404c4a034c6b034fec4c4b752c42eb49426d7bb6938b33513f58704c0d77496f4a300d0724535f6d5b51000c31df",
    249: "65470c544d71590e724d5f7c754831b8d4df494d3b4d7b4448403b5e703b4e5b50487a6c067e6a7a54efde794bf95e49753c76483f76e361155e767c44690c",
    250: "dc2efaf3daac7c5076427a03607a417f4a700f094b73153f6b4d520c464642502a8e5b506f715a4306ff89df75473b4b7746070035",
    251: "6176434a4b0c02313e7273793f75e28c6840ec414f757b1574766aff7373033135",
    252: "787547ae32e3e28f9e7802774d6c034b4c404b7a4a03296155085b3e7e40443f7458478c000c31",
    253: "7d465c3e5d59f3da8d7d566a7a433e414c497244311f0d24405c4b71560242427090413b577654447a310903",
    254: "65406e764c0b351db6ad976d027b457b0354425c077d4b414c45442743575c524a409b4a026b4f065d4145e5b6e1958d7846202646e4583c4a4f0e41487365035d5c464f4654d00831",
    255: "6b475141480d3031b659414d690dcd63e4782f2b48792e7d25fe917022434d7f107d6b5d0847563f716e6e51b6989a34517a4d73464903",
    256: "7d4f7a0e704c58445e03037c5b4c5a4b094b5b45f4434d6d7b0f5f41fe785a107143683f",
    257: "573f4e44f8dd8b294740407f3c6b734a0e484556080f072c49774d507e0345590341e2c1",
    258: "5a7352683f425c543b5464560c576df244fb49286f41115a466217",
    259: "aa4b4d5c473f4b5e460d5b47e6f3b6e29b8d7f513f43710340542345704a5b0d060f0c5555556b3d424a434406684e4847d00d06",
    260: "67566d6b0e4d714c0c4574557a060035066c565a5c07744340b697907b45236d5d7a7f447e3e516f496a5246000c48424708594b7b3fb6414e662361416955705a0e6c4f4a4f094a4235030b",
    261: "df294c5c5d8a0e4a6a5e6d670c3506146e04410c4b49f193916f44404e086b5e035d4a725b39584153781141425c485b0f0706",
    262: "b54a5c747e09310e0c7b485e4731350207644de249454702310c",
    263: "52623ef29b8a6e46524c5b0b030303744b433b5b4f5a0e4d71455115794c4856417099096c4b4f70707d484b1f0d00",
    264: "6b5a026841680742065e745f6b4c45f3da8b63034976584715434c095a41fc5d02724d7150447472080131",
    265: "aa454b096a7372404d4340453f7c7e554db6978a72590e4b4d15424c43476c454b5e7e0848713d567345683d437e428d7474421e3130",
    266: "74404b5b460eff670272553f547e594a7759466c15b34b70426f4519",
    267: "7b49f3da9c7c4b73486d464303070915794a465a4403404c557b3f5a4a7a0e4a4297467f5e4b4700494d714424",
    268: "61673f4c476e4f466b495ab8d4d1217e464c086850500e4d754157266b444066744c7c0c5f78437042aa7c7c021e31",
    269: "5757084d484d09e234407a02311e3f6442680d407f71de43114e7a47435d40b69f87644d6c493f5042404c5377474c4422554e42513f7f424b5a46388a034d5b46703f4b5a766d5d08080311",
    270: "52086df39fd12700066009564843034c6b350300",
}


ig_msg_e_digest = "540a862fc08283823b61d8f56a39d08636348e0c273c5b4c99ddd6a25e343c91"
subtitles_en_digest = "be54c6abc7dbecba20f344219a6b22a8e23bdb0877dee35a1721d530d86dfd44"


def xor(first, second):
    return bytes(x ^ y for x, y in zip(first, second))


def decode_english_subtitles(ig_msg_e: BinaryIO):
    pos = ig_msg_e.tell()
    ig_msg_e.seek(0, os.SEEK_SET)
    ig_msg_e_bin = ig_msg_e.read()
    ig_msg_e.seek(pos, os.SEEK_SET)

    computed_ig_msg_e_digest = hashlib.sha256(ig_msg_e_bin).hexdigest()
    if computed_ig_msg_e_digest != ig_msg_e_digest:
        raise RuntimeError("IG_MSG_E.OBJ digest mismatch")

    sorted_subs = [(num, bytes.fromhex(enc)) for num, enc in subtitles_en_encoded.items()]
    sorted_subs.sort(key=lambda x: x[0])

    sub_size = sum(len(sub) for _, sub in sorted_subs)
    xor_base = ig_msg_e_bin.replace(b"\x00", b"")[:sub_size]

    position = 0
    decoded_subs = dict()
    sha256_hash = hashlib.sha256()
    for num, enc in sorted_subs:
        dec = xor(xor_base[position:], enc)
        position += len(enc)
        sha256_hash.update(dec)
        decoded_subs[num] = dec.decode("utf-8")

    decoded_sub_digest = sha256_hash.hexdigest()

    if decoded_sub_digest != subtitles_en_digest:
        raise RuntimeError("subtitle digest mismatch")

    return decoded_subs
